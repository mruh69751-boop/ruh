<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yamato Family Mission Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container { max-width: 800px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 25px; color: white; }
        h1 { font-size: 22px; margin-bottom: 10px; }
        
        .info-panel {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.2);
            font-size: 14px;
        }

        .update-btn {
            background: #ff4b2b;
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        .section h2 {
            color: #1e3c72;
            font-size: 18px;
            margin-bottom: 15px;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }

        .task-card {
            background: #fdfdfd;
            border-left: 4px solid #1e3c72;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border: 1px solid #eee;
            border-left-width: 5px;
        }
        .task-important { border-left-color: #ff4b2b; background: #fff9f9; }
        
        .task-title { font-weight: bold; font-size: 15px; color: #111; margin-bottom: 5px; }
        .task-desc { font-size: 13px; color: #555; line-height: 1.5; }
        .tag { font-size: 10px; padding: 2px 6px; border-radius: 3px; color: white; margin-left: 5px; vertical-align: middle; }
        .tag-adm { background: #17a2b8; }
        .tag-edu { background: #ffc107; color: #000; }
        .tag-money { background: #28a745; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ›¡ï¸ å¤§å’Œå¸‚ãƒ»è‚²å…æˆ¦ç•¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
            <div class="info-panel" id="statusSummary">è¨ˆç®—ä¸­...</div>
            <button class="update-btn" onclick="renderDashboard()">æƒ…å ±ã‚’æœ€æ–°ã«æ›´æ–°</button>
        </header>

        <div id="mainContent"></div>
    </div>

    <script>
        const BIRTH = new Date('2024-04-01');
        const SUBSIDY_START = new Date('2027-06-01');

        function renderDashboard() {
            const now = new Date();
            const ageMonths = (now.getFullYear() - BIRTH.getFullYear()) * 12 + (now.getMonth() - BIRTH.getMonth());
            const years = Math.floor(ageMonths / 12);
            const months = ageMonths % 12;

            document.getElementById('statusSummary').innerHTML = 
                `<strong>ãŠå­æ§˜:</strong> ${years}æ­³${months}ãƒ¶æœˆ | <strong>æ‰€åœ¨åœ°:</strong> ç¥å¥ˆå·çœŒå¤§å’Œå¸‚<br>` +
                `<strong>å®¶è³ƒè£œåŠ©é–‹å§‹ã¾ã§:</strong> ã‚ã¨ ${Math.max(0, Math.ceil((SUBSIDY_START - now)/(1000*60*60*24*30.4)))}ãƒ¶æœˆ (æœˆ+5ä¸‡å††)`;

            const content = document.getElementById('mainContent');
            content.innerHTML = '';

            // 1. è¡Œæ”¿ãƒ»é‡‘éŠ­ï¼ˆç”³è«‹ã—ãªã„ã¨æã™ã‚‹ã‚‚ã®ï¼‰
            addSection(content, "ğŸ’° ç”³è«‹å¿…é ˆï¼æã‚’ã—ãªã„ãŸã‚ã®æ‰‹ç¶šã", [
                {
                    title: "å¹¼å…æ•™è‚²ãƒ»ä¿è‚²ç„¡å„ŸåŒ–ã®èªå®šç”³è«‹",
                    desc: "å¹¼ç¨šåœ’å…¥åœ’å‰ã«ã€Œèªå®šã€ã‚’å—ã‘ãªã„ã¨ç„¡å„ŸåŒ–ã•ã‚Œã¾ã›ã‚“ã€‚å…¥åœ’é¡˜æ›¸æå‡ºæ™‚ï¼ˆ2027å¹´10æœˆï¼‰ã«åŒæ™‚ç”³è«‹ãŒä¸€èˆ¬çš„ã§ã™ãŒã€äº‹å‰ã«ã€å¹¼ç¨šåœ’åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ã€ã‚’å¸‚HPã§è¦ç¢ºèªã€‚",
                    tag: "æœ€é‡è¦", tagClass: "tag-adm"
                },
                {
                    title: "å°å…åŒ»ç™‚è¨¼ã®æ›´æ–°ç¢ºèª",
                    desc: "å¤§å’Œå¸‚ã¯æ‰€å¾—åˆ¶é™ãªã—ã§ä¸­å­¦å’æ¥­ã¾ã§åŠ©æˆã€‚å¹´åº¦æœ«ã«æ–°ã—ã„åŒ»ç™‚è¨¼ãŒå±Šãã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
                    tag: "è¡Œæ”¿", tagClass: "tag-adm"
                },
                {
                    title: "å…¬å‹™å“¡ç‰ˆãƒ»å…ç«¥æ‰‹å½“ã®ç”³è«‹",
                    desc: "â€»ã‚‚ã—è²´æ®¿ãŒå…¬å‹™å“¡ã€ã¾ãŸã¯è»¢è·ç­‰ã§çŠ¶æ³ãŒå¤‰ã‚ã‚‹å ´åˆã€å¤§å’Œå¸‚ã¯ç”³è«‹ä¸»ç¾©ã§ã™ã€‚é¡ã‚Šæ”¯çµ¦ã¯ãªã„ãŸã‚æ³¨æ„ã€‚",
                    tag: "ç¾é‡‘", tagClass: "tag-money"
                }
            ]);

            // 2. å¤§å’Œå¸‚ãƒ»å¹¼ç¨šåœ’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
            addSection(content, "ğŸ« å¤§å’Œå¸‚ å¹¼ç¨šåœ’å…¥åœ’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«", [
                {
                    title: "å¤§å’Œå¸‚ã€Œå¹¼ç¨šåœ’åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ã€ã®å…¥æ‰‹",
                    desc: "ä¾‹å¹´9æœˆé ƒã«æœ€æ–°ç‰ˆãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚å¸‚å½¹æ‰€ã»ã„ãèª²ã‚„å„åˆ†å®¤ã§é…å¸ƒã€‚2027å¹´ç§‹ã®å…¥åœ’ã«å‘ã‘ã¦ã€2026å¹´ç§‹ã‹ã‚‰å„åœ’ã®ã€Œãƒ—ãƒ¬ä¿è‚²ã€æ ã‚’ç‹™ã†ã®ãŒå®šçŸ³ã€‚",
                    tag: "æ•™è‚²", tagClass: "tag-edu"
                },
                {
                    title: "è¿‘éš£åœ’ã®ã€Œåœ’åº­é–‹æ”¾ã€ãƒªã‚µãƒ¼ãƒ",
                    desc: "å¤§å’Œå¸‚å†…ã®ç§ç«‹å¹¼ç¨šåœ’ã¯åœ’ã”ã¨ã«ç‰¹è‰²ãŒå¼·ã„ã§ã™ã€‚2æ­³ã®ã†ã¡ã«ã€å¹³æ—¥ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯å‰å¾Œã‚„é€±æœ«ã«å ´æ‰€ã®ç¢ºèªã‚’ã€‚",
                    tag: "èª¿æŸ»", tagClass: "tag-edu"
                }
            ]);

            // 3. æˆ¦ç•¥çš„ãƒ¡ãƒ¢ï¼ˆ39æ­³ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼è¦–ç‚¹ï¼‰
            addSection(content, "ğŸ“ˆ 39æ­³ã‹ã‚‰ã®è³‡ç”£ãƒ»ã‚­ãƒ£ãƒªã‚¢æˆ¦ç•¥", [
                {
                    title: "2027å¹´6æœˆï¼šå®¶è³ƒè£œåŠ©(5ä¸‡å††)ã®ä½¿é€”ç¢ºå®š",
                    desc: "å¹´é–“60ä¸‡å††ã®ä½™å‰°è³‡é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã“ã‚Œã¯ã€å­ä¾›ã®æ•™è‚²è³‡é‡‘ï¼ˆæ–°NISAï¼‰ã€ã«å…¨æŒ¯ã‚Šã™ã‚‹ã‹ã€å‰¯æ¥­noteã®åºƒå‘Šè²»ç­‰ã«å……ã¦ã‚‹ã‹ã€ä»Šã®ã†ã¡ã«å¥¥æ§˜ã¨åˆæ„å½¢æˆã‚’ã€‚",
                    tag: "æˆ¦ç•¥", tagClass: "tag-money"
                },
                {
                    title: "3æ­³å…å¥è¨ºã®å£ï¼ˆ2027å¹´4æœˆã€œï¼‰",
                    desc: "å¤§å’Œå¸‚ã®3æ­³å…å¥è¨ºã¯é …ç›®ãŒå¤šãã€è‡ªå®…ã§ã®è¦–åŠ›ãƒ»è´åŠ›æ¤œæŸ»ãŒå¿…è¦ã§ã™ã€‚ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã¨ã—ã¦ã“ã®æ™‚æœŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²è¡Œã‚’èª¿æ•´ã§ãã‚‹ã‚ˆã†ã€ä»Šã‹ã‚‰Q2ã®äºˆå®šã‚’æ„è­˜ã€‚",
                    tag: "ç®¡ç†", tagClass: "tag-adm"
                }
            ]);
        }

        function addSection(container, title, tasks) {
            let html = `<div class="section"><h2>${title}</h2>`;
            tasks.forEach(t => {
                html += `
                    <div class="task-card ${t.tag === 'æœ€é‡è¦' ? 'task-important' : ''}">
                        <div class="task-main">
                            <div class="task-title">${t.title}<span class="tag ${t.tagClass}">${t.tag}</span></div>
                            <div class="task-desc">${t.desc}</div>
                        </div>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML += html;
        }

        renderDashboard();
    </script>
</body>
</html>
